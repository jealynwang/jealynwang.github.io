(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1bdG":function(e,t,r){"use strict";var o=r("myVN");r.n(o).a},"5QfY":function(e,t,r){"use strict";r.r(t);var o=r("QbLZ"),l=r.n(o),i=r("L2JU"),s={data:function(){return{form:{}}},created:function(){this.getClusterList({currentPage:1,pageSize:1e3})},computed:l()({},Object(i.mapGetters)({filterClusterList:"clusterModule/filterClusterList"}),{query:function(){return this.$route.query}}),methods:l()({},Object(i.mapActions)({projectList:"projectModule/getProjectList",getClusterList:"clusterModule/getClusterList"}),{getList:function(e){var t=this.$formatSearchData(this.form);this.projectList(t),this.$router.replace({query:t})}})},n=r("KHd+"),a=Object(n.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"query-form",attrs:{shadow:"never"}},[r("el-form",{attrs:{inline:!0,model:e.form,"label-width":"80px",onsubmit:"return false"}},[r("el-form-item",{attrs:{label:"项目名称"}},[r("el-input",{attrs:{placeholder:"请输入项目名称",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目ID"}},[r("el-input",{attrs:{placeholder:"请输入项目ID",clearable:""},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"业务集群",prop:"clusterId"}},[r("el-select",{attrs:{placeholder:"请选择业务集群",clearable:"",filterable:""},model:{value:e.form.clusterId,callback:function(t){e.$set(e.form,"clusterId",t)},expression:"form.clusterId"}},e._l(e.filterClusterList,function(e){return r("el-option",{key:e.clusterId,attrs:{label:e.business,value:e.clusterId}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:function(t){e.getList(e.form)}}},[e._v("查询")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"info",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$showModal("addProject")}}},[e._v("添加")])],1)],1)],1)},[],!1,null,null,null).exports,c={computed:l()({},Object(i.mapGetters)({projectList:"projectModule/filterProjectList",pagination:"projectModule/pagination",resouces:"projectModule/resouces"})),methods:l()({},Object(i.mapActions)({deleteProject:"projectModule/deleteProject",getDetail:"projectModule/getProjectDetail"}),{handleEdit:function(e){this.getDetail(e),this.$showModal("updateProject")},handleDelete:function(e){this.deleteProject(e)},handleGoConfig:function(e){""!==e&&this.$router.push({path:"/configCenter/project/Apollo/Detail",query:{configId:e,idc:"aliyun"}})},rowClassName:function(e){if(e.row.rid<=0)return"hidden"}})},u=Object(n.a)(c,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.$isShowLoading("projectList"),expression:"$isShowLoading('projectList')"}]},[r("el-table",{attrs:{data:e.projectList,border:"","row-class-name":e.rowClassName}},[r("el-table-column",{attrs:{label:"项目名称",prop:"name"}}),e._v(" "),r("el-table-column",{attrs:{label:"配置文件",prop:"configId",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){e.handleGoConfig(t.row.configId)}}},[e._v(e._s(t.row.configId?t.row.configId:""))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"编译地址",prop:"jenkinsUrl","min-width":"150px"}}),e._v(" "),r("el-table-column",{attrs:{label:"仓库地址",prop:"gitUrl","min-width":"150px"}}),e._v(" "),r("el-table-column",{attrs:{label:"项目描述",prop:"description"}}),e._v(" "),r("el-table-column",{attrs:{label:"是否开启审核",prop:"approve",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.approve?r("span",[e._v("是")]):r("span",[e._v("否")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),r("table-pagination",{attrs:{pagination:e.pagination}})],1)},[],!1,null,null,null).exports,d={data:function(){return{filterFrameList:[{id:1,name:"JAVA"},{id:2,name:"Node"},{id:3,name:"PHP"}],projectForm:{id:"",name:"",projectId:"",clusterId:"",delete:!1,description:"",gitUrl:"",gitNamespace:"",gitName:"",gitId:"",jenkinsUrl:"",configId:"",configName:"",defaultGroupId:"",frame:null,approve:!1},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],frame:[{required:!0,message:"请选择项目所用语言",trigger:"blur"}],jenkinsUrl:[{required:!0,message:"请选择项目编译地址",trigger:"blur"}]}}},created:function(){this.getGroupReq({currentPage:1,pageSize:1e3}),this.getClusterList({currentPage:1,pageSize:1e3}),this.getJenkinsList(),this.getApolloListReq({currentPage:1,pageSize:1e3})},computed:l()({},Object(i.mapGetters)({apolloList:"apolloModule/filterApolloList",filterDetail:"projectModule/filterProjectDetail",filterClusterList:"clusterModule/filterClusterList",filterJenkinsList:"projectModule/filterJenkinsList",filterGroupList:"groupModule/filterGroupList",resouces:"projectModule/resouces",filterModList:"modModule/filterModList"}),{isUpdate:function(){return this.$isShowModal("updateProject")},title:function(){return this.isUpdate?"更新项目":"新增项目"},modalIsShow:function(){return this.$isShowModal("addProject")||this.$isShowModal("updateProject")},query:function(){return this.$route.query}}),methods:l()({},Object(i.mapActions)({addOrUpdateProject:"projectModule/addOrUpdateProject",getClusterList:"clusterModule/getClusterList",getGroupReq:"groupModule/getGroupList",getCheckUrlReq:"projectModule/getCheckUrl",getJenkinsListReq:"projectModule/getJenkinsList",getJenkinsParamsReq:"projectModule/getJenkinsParams",getApolloListReq:"apolloModule/getApolloList"}),{getJenkinsList:function(){this.getJenkinsListReq()},closeModal:function(){this.isUpdate?this.$hideModal("updateProject"):this.$hideModal("addProject")},addOrUpdate:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.projectForm.configName=t.projectForm.configId||"defalutName";var r=t.$trim(l()({},t.projectForm));t.isUpdate||delete r.id,t.addOrUpdateProject(r)}})},setValues:function(){var e=this.filterDetail,t=e.id,r=e.projectId,o=e.clusterId,l=e.tags,i=e.frame,s=e.branches,n=e.configId,a=e.gitUrl,c=e.gitName,u=e.gitNamespace,d=e.gitId,p=e.jenkinsUrl,m=e.name,f=e.description,h=e.defaultGroupId,g=e.approve,b=e.modId;this.projectForm={id:t,projectId:r,clusterId:o,tags:l,branches:s,configId:n,gitUrl:a,gitName:c,gitNamespace:u,gitId:d,jenkinsUrl:p,name:m,description:f,defaultGroupId:h,frame:i,approve:g,modId:b}},handleCloseModal:function(){this.$refs.projectForm.resetFields(),this.isUpdate?this.$hideModal("updateProject"):this.$hideModal("addProject")},handleCreateCluster:function(){this.$showModal("addClusterFromProject")},handleCreateGroup:function(){this.$showModal("addGroupFromProject")},handleCreateJenkins:function(){if(this.$store.state.projectModule.status){this.$showModal("addJenkins");var e={gitUrl:this.projectForm.gitUrl,jobName:this.projectForm.gitName};this.getJenkinsParamsReq(e)}},setGitInfo:function(){var e=this,t={gitUrl:this.projectForm.gitUrl};this.getCheckUrlReq(t).then(function(){if(e.$store.state.projectModule.status){var t=e.projectForm.gitUrl.split("/");if(t[0].includes("git")){var r=t[0].split(":"),o=t[1].split(".");e.projectForm.gitNamespace=r[1],e.projectForm.gitName=o[0]}else e.projectForm.gitNamespace=t[3],e.projectForm.gitName=t[4].split(".")[0]}})}}),watch:{filterDetail:function(){this.isUpdate&&this.setValues()}}},p=(r("1bdG"),Object(n.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.title,visible:e.modalIsShow,width:"30%","before-close":e.closeModal,"close-on-click-modal":!1,center:""},on:{close:e.handleCloseModal}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.$isShowLoading("distributorDetail"),expression:"$isShowLoading('distributorDetail')"}],ref:"projectForm",attrs:{model:e.projectForm,rules:e.rules,"label-width":"110px","status-icon":!0}},[r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{label:"项目名称",size:"small",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.projectForm.name,callback:function(t){e.$set(e.projectForm,"name","string"==typeof t?t.trim():t)},expression:"projectForm.name"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"语言",prop:"frame"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择项目语言",size:"small",filterable:""},model:{value:e.projectForm.frame,callback:function(t){e.$set(e.projectForm,"frame","string"==typeof t?t.trim():t)},expression:"projectForm.frame"}},e._l(e.filterFrameList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"部署模板",prop:"modId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择部署模板",size:"small",filterable:""},model:{value:e.projectForm.modId,callback:function(t){e.$set(e.projectForm,"modId","string"==typeof t?t.trim():t)},expression:"projectForm.modId"}},e._l(e.filterModList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"集群分组",prop:"clusterId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择业务集群",size:"small",filterable:""},model:{value:e.projectForm.clusterId,callback:function(t){e.$set(e.projectForm,"clusterId","string"==typeof t?t.trim():t)},expression:"projectForm.clusterId"}},e._l(e.filterClusterList,function(e){return r("el-option",{key:e.clusterId,attrs:{label:e.business,value:e.clusterId}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{size:"small"}},[r("el-button",{staticStyle:{"margin-left":"-50px"},attrs:{type:"text"},on:{click:e.handleCreateCluster}},[e._v("创建集群分组")])],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:3}},[r("el-form-item",{attrs:{label:"开启部署审核",prop:"approve"}},[r("el-switch",{model:{value:e.projectForm.approve,callback:function(t){e.$set(e.projectForm,"approve","string"==typeof t?t.trim():t)},expression:"projectForm.approve"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{label:"Git地址",size:"small",prop:"gitUrl"}},[r("el-input",{attrs:{placeholder:"请输入项目的Git地址",size:"small"},on:{blur:function(t){e.setGitInfo()}},model:{value:e.projectForm.gitUrl,callback:function(t){e.$set(e.projectForm,"gitUrl","string"==typeof t?t.trim():t)},expression:"projectForm.gitUrl"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"项目组",size:"small",prop:"gitNamespace"}},[r("el-input",{attrs:{disabled:""},model:{value:e.projectForm.gitNamespace,callback:function(t){e.$set(e.projectForm,"gitNamespace","string"==typeof t?t.trim():t)},expression:"projectForm.gitNamespace"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"项目名",size:"small",prop:"gitName"}},[r("el-input",{attrs:{disabled:""},model:{value:e.projectForm.gitName,callback:function(t){e.$set(e.projectForm,"gitName","string"==typeof t?t.trim():t)},expression:"projectForm.gitName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{label:"项目描述",prop:"description"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入项目描述"},model:{value:e.projectForm.description,callback:function(t){e.$set(e.projectForm,"description","string"==typeof t?t.trim():t)},expression:"projectForm.description"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{label:"配置文件",size:"small",prop:"configId "}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择配置文件",filterable:"",clearable:""},model:{value:e.projectForm.configId,callback:function(t){e.$set(e.projectForm,"configId","string"==typeof t?t.trim():t)},expression:"projectForm.configId"}},e._l(e.apolloList,function(t){return r("el-option",{key:t.configId,staticStyle:{"max-width":"100%"},attrs:{label:t.configId,value:t.configId}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(t.configId))]),e._v(" "),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.name))])])}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"编译地址",size:"small",prop:"jenkinsUrl"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.isUpdate,filterable:"",placeholder:"请选择Jenkins地址"},model:{value:e.projectForm.jenkinsUrl,callback:function(t){e.$set(e.projectForm,"jenkinsUrl","string"==typeof t?t.trim():t)},expression:"projectForm.jenkinsUrl"}},e._l(e.filterJenkinsList,function(e){return r("el-option",{key:e.url,attrs:{label:e.jobName,value:e.url}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{size:"small"}},[r("el-button",{staticStyle:{"margin-left":"-50px"},attrs:{disabled:!e.$store.state.projectModule.status,type:"text"},on:{click:e.handleCreateJenkins}},[e._v("新建编译地址")])],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"部署目标",size:"small",prop:"defaultGroupId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择目标服务器组",filterable:""},model:{value:e.projectForm.defaultGroupId,callback:function(t){e.$set(e.projectForm,"defaultGroupId","string"==typeof t?t.trim():t)},expression:"projectForm.defaultGroupId"}},e._l(e.filterGroupList,function(e){return r("el-option",{key:e.groupId,attrs:{label:e.name,value:e.groupId}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{size:"small"}},[r("el-button",{staticStyle:{"margin-left":"-50px"},attrs:{type:"text"},on:{click:e.handleCreateGroup}},[e._v("创建服务器组")])],1)],1)],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeModal}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.$isShowLoading("projectAddOrUpdate")},on:{click:function(t){e.addOrUpdate("projectForm")}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null).exports),m={data:function(){return{clusterForm:{business:"",description:""},rulesOfCluster:{business:[{required:!0,message:"请填写业务名称",trigger:"blur"}]}}},computed:{clusterModalIsShow:function(){return this.$isShowModal("addClusterFromProject")}},methods:l()({},Object(i.mapActions)({addCluster:"clusterModule/addCluster"}),{handleCloseCluster:function(){this.$refs.clusterForm.resetFields(),this.$hideModal("addClusterFromProject")},submitClusterForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=t.$trim(l()({},t.clusterForm));t.addCluster(r)}})}})},f=Object(n.a)(m,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{visible:e.clusterModalIsShow,"before-close":e.handleCloseCluster,center:"",title:"新增集群分组",width:"30%",top:"30vh","close-on-click-modal":!1},on:{close:e.handleCloseCluster}},[r("el-form",{ref:"clusterForm",attrs:{model:e.clusterForm,rules:e.rulesOfCluster,"label-width":"100px","status-icon":!0}},[r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"business",label:"业务名称"}},[r("el-input",{attrs:{placeholder:"请输入业务名称",maxlength:50},model:{value:e.clusterForm.business,callback:function(t){e.$set(e.clusterForm,"business","string"==typeof t?t.trim():t)},expression:"clusterForm.business"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"description",label:"说明"}},[r("el-input",{attrs:{type:"textarea",rows:"2",placeholder:"请输入该业务的相关描述信息",maxlength:50},model:{value:e.clusterForm.description,callback:function(t){e.$set(e.clusterForm,"description","string"==typeof t?t.trim():t)},expression:"clusterForm.description"}})],1)],1)],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleCloseCluster}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitClusterForm("clusterForm")}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null).exports,h={data:function(){return{groupForm:{name:"",description:"",groupId:""},rulesOfGroup:{name:[{required:!0,message:"请填写分组名称",trigger:"blur"}]}}},computed:{groupModalIsShow:function(){return this.$isShowModal("addGroupFromProject")}},methods:l()({},Object(i.mapActions)({addGroup:"groupModule/addGroup"}),{handleCloseGroup:function(){this.$refs.groupForm.resetFields(),this.$hideModal("addGroupFromProject")},submitGroupForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=t.$trim(l()({},t.groupForm,{origin:"project",envId:"test"}));t.addGroup(r)}})}})},g=Object(n.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{visible:e.groupModalIsShow,"before-close":e.handleCloseGroup,center:"",title:"新增服务器分组",width:"30%",top:"30vh","close-on-click-modal":!1},on:{close:e.handleCloseGroup}},[r("el-form",{ref:"groupForm",attrs:{model:e.groupForm,rules:e.rulesOfGroup,"label-width":"100px","status-icon":!0}},[r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"name",label:"名称"}},[r("el-input",{attrs:{placeholder:"请输入分组名称",maxlength:50},model:{value:e.groupForm.name,callback:function(t){e.$set(e.groupForm,"name","string"==typeof t?t.trim():t)},expression:"groupForm.name"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"description",label:"说明"}},[r("el-input",{attrs:{type:"textarea",rows:"2",placeholder:"请填写关于该分组的描述信息",maxlength:50},model:{value:e.groupForm.description,callback:function(t){e.$set(e.groupForm,"description","string"==typeof t?t.trim():t)},expression:"groupForm.description"}})],1)],1)],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleCloseGroup}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitGroupForm("groupForm")}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null).exports,b=(r("AvDn"),r("qNmG"),{data:function(){return{jenkinsForm:{gitUrl:"",jobName:"",templateName:"",command:"",description:""},cmOption:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!1,mode:"application/x-sh",theme:"cobalt"},rulesOfJenkins:{gitUrl:[{required:!0,message:"请填写Git地址",trigger:"blur"}],jobName:[{required:!0,message:"请选择编译模板",trigger:"blur"}],command:[{required:!0,message:"请输入构建脚本",trigger:"blur"}],description:[{required:!0,message:"请输入相关描述",trigger:"blur"}]}}},computed:l()({},Object(i.mapState)({projectForm:function(e){return e.projectModule.jenkinsParams}}),Object(i.mapGetters)({resouces:"projectModule/resouces",filterJenkinsDetail:"projectModule/filterJenkinsDetail"}),{jenkinsModalIsShow:function(){return this.$isShowModal("addJenkins")}}),methods:l()({},Object(i.mapActions)({addjenkins:"projectModule/addjenkins",getJenkinsListReq:"projectModule/getJenkinsList",getJenkinsDetailReq:"projectModule/getJenkinsDetail"}),{handleCloseJenkins:function(){this.$refs.jenkinsForm.resetFields(),this.$hideModal("addJenkins"),this.getJenkinsList()},getJenkinsList:function(){this.getJenkinsListReq()},handleChange:function(e){var t=this,r={jobName:e};this.getJenkinsDetailReq(r).then(function(){t.jenkinsForm.description=t.filterJenkinsDetail.description,t.jenkinsForm.command=t.filterJenkinsDetail.command})},handleFillGiturl:function(){this.jenkinsForm.gitUrl=this.projectForm.gitUrl,this.jenkinsForm.jobName=this.projectForm.jobName},submitJenkinsForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=t.$trim(l()({},t.jenkinsForm));t.addjenkins(r)}})}})}),j={components:{Search:a,List:u,Modal:p,ClusterModal:f,GroupModal:g,JenkinsModal:Object(n.a)(b,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{visible:e.jenkinsModalIsShow,"before-close":e.handleCloseJenkins,center:"",loading:e.$isShowLoading("addJenkins"),title:"新增编译地址",width:"40%",top:"30vh","close-on-click-modal":!1},on:{open:e.handleFillGiturl,close:e.handleCloseJenkins}},[r("el-form",{ref:"jenkinsForm",attrs:{model:e.jenkinsForm,rules:e.rulesOfJenkins,"label-width":"100px","status-icon":!0}},[r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"gitUrl",label:"Git地址"}},[r("el-input",{attrs:{disabled:"",placeholder:"请输入项目的Git地址",maxlength:50},model:{value:e.jenkinsForm.gitUrl,callback:function(t){e.$set(e.jenkinsForm,"gitUrl","string"==typeof t?t.trim():t)},expression:"jenkinsForm.gitUrl"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"jobName",label:"项目名称"}},[r("el-input",{attrs:{placeholder:"请输入项目名称",maxlength:50},model:{value:e.jenkinsForm.jobName,callback:function(t){e.$set(e.jenkinsForm,"jobName","string"==typeof t?t.trim():t)},expression:"jenkinsForm.jobName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"templateName",label:"jenkins模板"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择编译模板"},on:{change:function(t){e.handleChange(e.jenkinsForm.templateName)}},model:{value:e.jenkinsForm.templateName,callback:function(t){e.$set(e.jenkinsForm,"templateName","string"==typeof t?t.trim():t)},expression:"jenkinsForm.templateName"}},e._l(e.resouces.jenkinsTemplates,function(e){return r("el-option",{key:e.jobName,staticStyle:{"max-width":"100%"},attrs:{label:e.name,value:e.jobName}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"command",label:"构建脚本"}},[r("div",{staticClass:"codemirror"},[r("codemirror",{attrs:{options:e.cmOption},model:{value:e.jenkinsForm.command,callback:function(t){e.$set(e.jenkinsForm,"command",t)},expression:"jenkinsForm.command"}})],1)])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-form-item",{attrs:{prop:"description",label:"描述"}},[r("el-input",{attrs:{placeholder:"请输入相关描述",maxlength:50},model:{value:e.jenkinsForm.description,callback:function(t){e.$set(e.jenkinsForm,"description","string"==typeof t?t.trim():t)},expression:"jenkinsForm.description"}})],1)],1)],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.handleCloseJenkins}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitJenkinsForm("jenkinsForm")}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null).exports},created:function(){this.getProjectList(),this.getResoucesReq(),this.getModListReq({pageSize:1e3,currentPage:1})},computed:{query:function(){return this.$route.query}},methods:l()({},Object(i.mapActions)({getListReq:"projectModule/getProjectList",getResoucesReq:"projectModule/getResouces",getModListReq:"modModule/getModList"}),{getProjectList:function(){this.getListReq(this.query)}}),watch:{query:function(){this.getProjectList()}}},v=Object(n.a)(j,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Search"),this._v(" "),t("List"),this._v(" "),t("Modal"),this._v(" "),t("ClusterModal"),this._v(" "),t("GroupModal"),this._v(" "),t("JenkinsModal")],1)},[],!1,null,null,null);t.default=v.exports},AvDn:function(e,t,r){!function(e){"use strict";e.defineMode("shell",function(){var t={};function r(e,r){for(var o=0;o<r.length;o++)t[r[o]]=e}var o=["true","false"],l=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],i=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];function s(e,t){var r="("==e?")":"{"==e?"}":e;return function(o,l){for(var i,u=!1;null!=(i=o.next());){if(i===r&&!u){l.tokens.shift();break}if("$"===i&&!u&&"'"!==e&&o.peek()!=r){u=!0,o.backUp(1),l.tokens.unshift(a);break}if(!u&&e!==r&&i===e)return l.tokens.unshift(s(e,t)),c(o,l);if(!u&&/['"]/.test(i)&&!/['"]/.test(e)){l.tokens.unshift(n(i,"string")),o.backUp(1);break}u=!u&&"\\"===i}return t}}function n(e,t){return function(r,o){return o.tokens[0]=s(e,t),r.next(),c(r,o)}}e.registerHelper("hintWords","shell",o.concat(l,i)),r("atom",o),r("keyword",l),r("builtin",i);var a=function(e,t){t.tokens.length>1&&e.eat("$");var r=e.next();return/['"({]/.test(r)?(t.tokens[0]=s(r,"("==r?"quote":"{"==r?"def":"string"),c(e,t)):(/\d/.test(r)||e.eatWhile(/\w/),t.tokens.shift(),"def")};function c(e,r){return(r.tokens[0]||function(e,r){if(e.eatSpace())return null;var o=e.sol(),l=e.next();if("\\"===l)return e.next(),null;if("'"===l||'"'===l||"`"===l)return r.tokens.unshift(s(l,"`"===l?"quote":"string")),c(e,r);if("#"===l)return o&&e.eat("!")?(e.skipToEnd(),"meta"):(e.skipToEnd(),"comment");if("$"===l)return r.tokens.unshift(a),c(e,r);if("+"===l||"="===l)return"operator";if("-"===l)return e.eat("-"),e.eatWhile(/\w/),"attribute";if(/\d/.test(l)&&(e.eatWhile(/\d/),e.eol()||!/\w/.test(e.peek())))return"number";e.eatWhile(/[\w-]/);var i=e.current();return"="===e.peek()&&/\w+/.test(i)?"def":t.hasOwnProperty(i)?t[i]:null})(e,r)}return{startState:function(){return{tokens:[]}},token:function(e,t){return c(e,t)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),e.defineMIME("text/x-sh","shell"),e.defineMIME("application/x-sh","shell")}(r("VrN/"))},myVN:function(e,t,r){},qNmG:function(e,t,r){}}]);